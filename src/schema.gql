# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type Categoria {
  _id: ID!
  nombre: String!
  descripcion: String
}

type Instructor {
  _id: ID!
  firstName: String!
  lastName: String!
  profesion: String
  especializacion: [String!]!
  calificacionPromedio: Float!
  pais: String
}

type Material {
  _id: ID!
  titulo: String!
  descripcion: String
  url: String!
}

type Unidad {
  _id: ID!
  moduloId: ID!
  numeroUnidad: Int!
  titulo: String!
  descripcion: String
  urlVideo: String
  materiales: [Material!]
}

type Modulo {
  _id: ID!
  cursoId: ID!
  numeroModulo: Int!
  titulo: String!
  descripcion: String
  unidades: [Unidad!]
}

type Opcion {
  _id: ID!
  textOpcion: String!
  esCorrecta: Boolean!
  orden: Int
}

type Pregunta {
  _id: ID!
  enunciado: String!
  tipoPregunta: TipoPregunta!
  opciones: [Opcion!]
  moduloId: Modulo
  unidadId: Unidad
}

"""Tipos de preguntas"""
enum TipoPregunta {
  Abierta
  Alternativa
  Opcion_multiple
  Verdadero_falso
  Ordenamiento
}

type Cuestionario {
  _id: ID!
  cursoId: Curso!
  titulo: String!
  descripcion: String
  preguntas: [Pregunta!]!
  numeroPreguntasPresentar: Int
  fechaCreacion: DateTime!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type Curso {
  _id: ID!
  titulo: String!
  descripcionCorta: String!
  descripcionLarga: String
  nivel: Nivel
  instructor: Instructor
  duracionHoras: Float
  imagenURL: String
  precio: Float!
  descuento: Float
  calificacionPromedio: Float!
  numeroCalificaciones: Int!
  aprenderas: [String!]!
  objetivos: [String!]!
  dirigidoA: [String!]!
  modulos: [Modulo!]!
  fechaLanzamiento: DateTime
  categorias: [Categoria!]!
  cuestionarioId: Cuestionario
}

"""Niveles de un curso"""
enum Nivel {
  Principiante
  Intermedio
  Avanzado
}

type Perfil {
  bio: String
  ubicacion: String
  celular: String
  fechaNacimiento: DateTime
  contacto: String
  intereses: [String!]
}

type Usuario {
  _id: ID!
  firstName: String!
  lastName: String!
  email: String!
  email_verified: Boolean!
  roles: [RolEnumGql!]!
  picture: String
  perfil: Perfil
  notificaciones: Boolean!
  status: UserStatus!
  deletedAt: DateTime
  deletedBy: ID
}

"""Roles disponibles para los usuarios"""
enum RolEnumGql {
  ESTUDIANTE
  INSTRUCTOR
  EDITOR
  ADMINISTRADOR
  SUPERADMIN
}

"""Estados de un usuario"""
enum UserStatus {
  ACTIVE
  INACTIVE
  DELETED
  SUSPENDED
}

type RespuestaPregunta {
  _id: ID!
  preguntaId: Pregunta!
  opcionIds: [Opcion!]
  respuestaAbierta: String
}

type UsuarioOutput {
  _id: ID!
  firstName: String!
  lastName: String!
  email: String!
  email_verified: Boolean!
  roles: [RolEnumGql!]!
  picture: String
  perfil: Perfil
  notificaciones: Boolean!
  status: UserStatus!
  deletedAt: DateTime
  deletedBy: ID
}

type Comentario {
  _id: ID!
  usuarioId: Usuario!
  cursoId: Curso!
  comentario: String!
  fecha: DateTime!
}

type UserRequest {
  _id: ID!
  roles: [RolEnumGql!]!
  iat: Int
  exp: Int
  email: String!
  email_verified: Boolean!
  firstName: String!
  lastName: String!
  picture: String
}

type UserJwtOutput {
  user: UserRequest!
  accessToken: String!
}

type Calificacion {
  _id: ID!
  usuarioId: Usuario!
  cursoId: Curso!
  valor: Int!
  comentario: String
  fecha: DateTime!
}

type Query {
  """Obtiene una lista de usuarios, opcionalmente filtrados por roles."""
  usuarios(
    """Filtrar usuarios por roles espec√≠ficos."""
    roles: RolesInput
    offset: Int = 0
    limit: Int = 10
    search: String
  ): [UsuarioOutput!]!
  usuario(id: ID!): UsuarioOutput!

  """Obtiene una lista de usuarios eliminados."""
  usuariosEliminados(offset: Int = 0, limit: Int = 10): [UsuarioOutput!]!
  comentarios: [Comentario!]!
  comentario(id: ID!): Comentario!
  comentariosPorCurso(cursoId: ID!): [Comentario!]!
  comentariosPorUsuario(usuarioId: ID!): [Comentario!]!
  calificaciones: [Calificacion!]!
  calificacion(id: ID!): Calificacion!
  calificacionesPorCurso(cursoId: ID!): [Calificacion!]!
  calificacionesPorUsuario(usuarioId: ID!): [Calificacion!]!
  promedioCalificaciones(cursoId: ID!): Float!
  categorias: [Categoria!]!
  categoria(id: ID!): Categoria!
}

input RolesInput {
  roles: [RolEnumGql!]
}

type Mutation {
  signup(createUsuarioInput: CreateUsuarioInput!): UsuarioOutput!
  login(loginUserInput: LoginUserInput!): UserRequest!
  sendVerificationEmailAgain: UserJwtOutput!
  createUsuario(createUsuarioInput: CreateUsuarioInput!): UsuarioOutput!
  updateUsuario(id: ID!, updateUsuarioInput: UpdateUsuarioInput!): UsuarioOutput!
  updatePassword(id: ID!, updatePasswordInput: UpdatePasswordInput!): UsuarioOutput!
  removeUsuario(idRemove: ID!, idThanos: ID!): UsuarioOutput!
  createComentario(createComentarioInput: CreateComentarioInput!): Comentario!
  updateComentario(id: ID!, updateComentarioInput: UpdateComentarioInput!): Comentario!
  removeComentario(id: ID!): Comentario!
  createCalificacion(createCalificacionInput: CreateCalificacionInput!): Calificacion!
  updateCalificacion(id: ID!, updateCalificacionInput: UpdateCalificacionInput!): Calificacion!
  removeCalificacion(id: ID!): Calificacion!
  createCategoria(createCategoriaInput: CreateCategoriaInput!): Categoria!
  updateCategoria(id: ID!, updateCategoriaInput: UpdateCategoriaInput!): Categoria!
  removeCategoria(id: ID!): Categoria!
}

input CreateUsuarioInput {
  firstName: String!
  lastName: String!
  email: String!
  password: String!
  picture: String
  perfil: CreatePerfilInput
  notificaciones: Boolean = true
}

input CreatePerfilInput {
  bio: String
  ubicacion: String
  celular: String
  fechaNacimiento: DateTime
  contacto: String
  intereses: [String!]
}

input LoginUserInput {
  email: String!
  password: String!
}

input UpdateUsuarioInput {
  firstName: String
  lastName: String
  email: String
  picture: String
  perfil: CreatePerfilInput
  notificaciones: Boolean = true
}

input UpdatePasswordInput {
  oldPassword: String!
  newPassword: String!
}

input CreateComentarioInput {
  usuarioId: ID!
  cursoId: ID!
  comentario: String!
}

input UpdateComentarioInput {
  usuarioId: ID
  cursoId: ID
  comentario: String
}

input CreateCalificacionInput {
  usuarioId: ID!
  cursoId: ID!
  valor: Int!
  comentario: String
}

input UpdateCalificacionInput {
  usuarioId: ID
  cursoId: ID
  valor: Int
  comentario: String
}

input CreateCategoriaInput {
  nombre: String!
  descripcion: String
}

input UpdateCategoriaInput {
  nombre: String
  descripcion: String
}